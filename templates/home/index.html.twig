{% extends 'base.html.twig' %}

{% block title %}TravelAccess - Découvrez des lieux touristiques accessibles{% endblock %}
{% block meta_description %}Guide des lieux touristiques accessibles aux personnes à mobilité réduite. Partagez vos découvertes avec la communauté TravelAccess.{% endblock %}
{% block meta_keywords %}tourisme accessible, lieux touristiques, carte accessibilité, PMR, voyage{% endblock %}


{% block body %}
    {# Section Hero #}
    <div class="p-5 text-center bg-hero text-white mb-5" >
        <div class="container py-5 ">
            <h1 class="display-4 fw-bold">TravelAccess: Voyagez Sans Limites</h1>
            <p class="fs-5 mx-auto text-white" style="max-width: 900px;" >Découvrez un monde où l'aventure est accessible à tous. Notre communauté partage des expériences authentiques pour rendre chaque voyage possible, quelle que soit votre mobilité. </p>
            <a class="btn btn-clear text-hero btn-lg mt-3 rounded-sm px-4" href=" {{ path('app_article_new') }}" aria-label="Partager une nouvelle expérience de voyage accessible">Partager une expérience</a>
        </div>
    </div>

    {# Section Navigation #}
    <div class="container mb-5" style="max-width: 1100px; width:100%;" >
        {% include 'home/_search.html.twig' %}
    </div>

    {# Section Articles Partagés #}
    <div class="container" style="max-width: 1100px; width:100%;">

        {# Card Article Partagé  #}
        <div class="row">
            {% for article in articles %}
                {# Partie galerie images #}
                {% include 'home/_card.html.twig' %}
                {# Trait de Séparation entre Articles #}
                {% if not loop.last %}
                    <div class="container border-buttom my-5"></div>
                {% endif %}

            {% else %}
                <p class="text-muted fst-italic">Aucun article trouvé.</p>

                {# Derniers articles #}
                <div class="mt-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="fw-bold mb-0">Derniers articles</h4>
                        <a href="{{ path('app_home') }}" class="btn btn-dark btn-sm">
                            Voir tous
                        </a>
                    </div>
                    <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-between">
                        {% for article in lastArticles|slice(0, 3) %}
                            {% include 'home/_cardSearch.html.twig' with { article: article } %}
                        {% endfor %}
                    </div>
                </div>

                {# Articles plus vus #}
                <div class="mt-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="fw-bold mb-0">Articles les plus vus</h4>
                        <a href="{{ path('app_home') }}" class="btn btn-dark btn-sm">
                            Voir tous
                        </a>
                    </div>
                    <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-between">
                        {% for article in mostViewArticles|slice(0, 3) %}
                            {% include 'home/_cardSearch.html.twig' with { article: article } %}
                        {% endfor %}
                    </div>
                </div>

                {# Articles plus commentés #}
                <div class="mt-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="fw-bold mb-0">Articles les plus commentés</h4>
                        <a href="{{ path('app_home') }}" class="btn btn-dark btn-sm">
                            Voir tous
                        </a>
                    </div>
                    <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-between">
                        {% for article in mostCommentArticles|slice(0, 3) %}
                            {% include 'home/_cardSearch.html.twig' with { article: article } %}
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
        </div>
        
        {# pagination #}
        <div class='pagination mt-5 justify-content-center' role="navigation" aria-label="Pagination des articles" >
            {{ knp_pagination_render(articles) }}
        </div>
    </div>

{% include 'home/_cookie.html.twig' %}

{% endblock %}
